<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org" data-bs-theme="dark">

<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<link rel="icon" href="../static/images/favicon.ico"
	th:href="@{/images/favicon.ico}" type="image/x-icon">
<!-- Favicon -->
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
<!-- Iconos -->

<link rel="stylesheet" th:href="@{../css/socialicons.css}">

<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
	rel="stylesheet" />
<title>Carrito</title>
</head>

<body>
	<header
		th:replace="~{fragments/headerNavbarCustomer :: navbarCustomer}"></header>
	<div class="container-fluid">
		<div class="row">
			<div class="col-12 col-md-3 col-lg-2"
				th:replace="~{fragments/sidebarCustomer :: sidebarCustomer}"></div>
			<section class="col-12 col-md-9 col-lg-10 vh-100">
				<div class="container h-100">
					<div
						class="row d-flex justify-content-center align-items-center h-100">
						<div class="col-12">
							<p>
								<span class="h2">Carrito de compra</span>
							</p>
							<div class="card mb-4">
								<div class="card-body">
									<div class="row">
										<div class="col-12 col-lg-9">
											<div class="table-responsive">
												<table class="table">
													<thead>
														<tr>
															<th scope="col">Imagen</th>
															<th scope="col">Nombre</th>
															<th scope="col">Categoría</th>
															<th scope="col">Precio</th>
															<th scope="col">Cantidad</th>
															<th scope="col">Subtotal</th>
															<th scope="col">Acción</th>
														</tr>
													</thead>
													<tbody>
														<tr th:if="${#lists.isEmpty(orderLines)}">
															<td colspan="7">Tu carrito está vacío.</td>
														</tr>
														<tr th:each="orderLine : ${order.orderLines}">
															<td><img th:src="@{orderLine.product.imageUrl}"
																alt="Producto" width="50"></td>
															<td th:text="${orderLine.product.productName}"></td>
															<td th:text="${orderLine.product.category}"></td>
															<td th:text="${orderLine.product.productPvP}"></td>
															<td th:text="${orderLine.orderLineQuantity}"></td>
															<td th:text="${orderLine.orderLinePrice}"></td>
															<td><a
																th:href="@{/delete/cart/{id}(id=${orderLine.product.productId})}"
																class="btn btn-outline-danger delete-link"> <i
																	class="bi bi-x-lg"></i>
															</a></td>
														</tr>
													</tbody>
												</table>
											</div>
										</div>
										<div class="col-12 col-lg-3">
											<h2 class="card-title">TOTAL</h2>
											<ul class="list-group">
												<li class="list-group-item">
													<h5 th:text="${order.total}"></h5>
												</li>
												<a th:href="@{/order}" class="btn btn-dark">Ver Orden</a>
											</ul>
										</div>
									</div>
								</div>
							</div>
							<div class="d-flex justify-content-end">
								<button type="button" data-mdb-button-init data-mdb-ripple-init
									class="btn btn-light btn-lg me-2">Continuar comprando</button>
								<button type="button" data-mdb-button-init data-mdb-ripple-init
									class="btn btn-primary btn-lg">Añadir al carrito</button>
							</div>
						</div>
					</div>
				</div>
			</section>
		</div>
	</div>
	<footer th:replace="~{fragments/footerCustomer :: footerC}"></footer>
</body>

</html>
